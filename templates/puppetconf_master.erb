[master]
  # These are needed when the puppetmaster is run by passenger
  # and can safely be removed if webrick is used.
  ssl_client_header = SSL_CLIENT_S_DN
  ssl_client_verify_header = SSL_CLIENT_VERIFY

  certname=<%= @certname %>

  pluginsync=<%= @pluginsync %>
  autosign = <%= @autosign %>

<% if defined?(@dns_alt_names) -%>
  dns_alt_names=<%= @dns_alt_names.join(',') %>
<% end -%>

  masterhttplog=<%= @masterhttplog %>

  ca_ttl=<%= @ca_ttl %>

<% if defined?(@logstash_host) -%>
  report = true
  reports = logstash
<% else %>
  report = <%= @report %>
<% end -%>

<% if defined?(@vardir) -%>
  vardir = <%= @vardir %>
<% end -%>
<% if defined?(@logdir) -%>
  logdir = <%= @logdir %>
<% end -%>
<% if defined?(@rundir) -%>
  rundir = <%= @rundir %>
<% end -%>
<% if defined?(@pidfile) -%>
  pidfile = <%= @pidfile %>
<% end -%>
<% if defined?(@codedir) -%>
  codedir = <%= @codedir %>
<% end -%>
